# =============================================================================
# NOOR - Production Environment Variables
# =============================================================================
# Copy this file to .env.production and fill in actual values.
# NEVER commit .env.production to git (.gitignore handles this).
# EAS Build automatically loads .env.production for production builds.
# =============================================================================

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=5000
NODE_ENV=production

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Production PostgreSQL connection string
# Get from: Railway, Neon, Supabase, or your hosting provider
DATABASE_URL=postgresql://user:password@host:5432/noor_production

# ============================================
# AI INTEGRATION (Anthropic Claude)
# ============================================
# Required for AI-powered reflection analysis
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-CHANGEME

# ============================================
# API Configuration (Client-side, embedded in app)
# ============================================
# Production backend API URL
# Set after deploying backend to Railway/Vercel/etc.
EXPO_PUBLIC_API_URL=https://your-production-backend.com
EXPO_PUBLIC_DOMAIN=your-production-backend.com

# ============================================
# RevenueCat (In-App Purchases)
# ============================================
# RevenueCat Public API Keys (safe to embed in app binary)
# Get from: https://app.revenuecat.com/projects/[your-project]/api-keys

# iOS public key (format: appl_xxxxxxxxxxxxxxxxxxxx)
EXPO_PUBLIC_REVENUECAT_IOS_API_KEY=appl_CHANGEME

# Android public key (format: goog_xxxxxxxxxxxxxxxxxxxx)
EXPO_PUBLIC_REVENUECAT_ANDROID_API_KEY=goog_CHANGEME

# ============================================
# Error Tracking (Sentry)
# ============================================
# Sentry DSN for mobile error tracking
# Get from: https://sentry.io/settings/[your-org]/projects/noor/keys/
EXPO_PUBLIC_SENTRY_DSN=https://CHANGEME@o0.ingest.sentry.io/0

# Sentry auth token for source map uploads during EAS builds
# Get from: https://sentry.io/settings/account/api/auth-tokens/
SENTRY_AUTH_TOKEN=sntrys_CHANGEME

# Sentry organization and project slugs (for release tracking)
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=noor-mobile

# ============================================
# DATA ENCRYPTION
# ============================================
# 32-character hex string for encrypting sensitive user data (journal entries, etc.)
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
ENCRYPTION_KEY=CHANGEME_32_CHAR_HEX_STRING_HERE

# ============================================
# SECURITY
# ============================================
# Session secret for HMAC-signed session tokens
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=CHANGEME_64_CHAR_HEX_STRING_HERE

# CSRF secret for cross-site request forgery protection
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CSRF_SECRET=CHANGEME_64_CHAR_HEX_STRING_HERE

# ============================================
# BILLING (Stripe - WEB ONLY, never used for mobile)
# ============================================
# IMPORTANT: Mobile (iOS/Android) billing uses Apple IAP / Google Play via
# RevenueCat (react-native-purchases). Stripe is ONLY for web subscriptions.
# If you only serve mobile clients, leave these unset to disable Stripe entirely.
STRIPE_SECRET_KEY=sk_live_CHANGEME
STRIPE_WEBHOOK_SECRET=whsec_CHANGEME

# ============================================
# PUSH NOTIFICATIONS (Expo)
# ============================================
# Expo push notification access token (optional, for server-side sends)
# Get from: https://expo.dev/accounts/[your-account]/settings/access-tokens
# EXPO_ACCESS_TOKEN=CHANGEME

# ============================================
# FEATURE FLAGS
# ============================================
# CRITICAL: Must be "false" for production builds with IAP enabled
EXPO_PUBLIC_VALIDATION_MODE=false

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_DIRECTORY=./logs

# ============================================
# NOTES
# ============================================
# Environment variable priority in EAS builds:
#   1. eas.json env overrides (highest)
#   2. EAS Secrets (set via: eas secret:create)
#   3. .env.production file
#   4. .env file (lowest)
#
# For sensitive values (API keys, secrets), prefer EAS Secrets:
#   eas secret:create --name ANTHROPIC_API_KEY --value sk-ant-...
#   eas secret:create --name ENCRYPTION_KEY --value ...
