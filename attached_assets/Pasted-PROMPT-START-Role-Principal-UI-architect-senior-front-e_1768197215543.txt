PROMPT START

Role
Principal UI architect, senior front end engineer, and applied CBT plus NLP systems designer.

Context
Noor CBT is a modular Islamic cognitive clarity app.
The app already works functionally.
This task is a **layout and design system correction**, not cosmetic tweaks.

You must fix the root cause of header obstruction and elevate the UI to feel intentionally Islamic and technically refined.

Hard rules
• Do not add features
• Do not change reflection logic
• Do not weaken Islamic framing
• Do not add decorative religious symbols
• Do not introduce multiple AI agents
• Do not improvise copy unless explicitly told

---

PART 1. FIX HEADER OBSTRUCTION PROPERLY (NON NEGOTIABLE)

You must implement a unified layout system.

Create a shared ScreenLayout component that:
• Handles Safe Area correctly on web and native
• Defines a fixed header zone outside scroll
• Locks header height across all screens
• Applies consistent top padding once

Rules
• Header must NOT live inside ScrollView
• Content must scroll independently below header
• Greeting, logo, and back button must never clip
• This must work on Home, Reflection, Calming Practice, Dua, Insights, Upgrade

If this requires refactoring multiple screens, do it.

Success criteria
• No header text is clipped on any screen
• No per screen hacks
• No conditional padding sprinkled everywhere

---

PART 2. ISLAMIC UI ELEVATION (YEMENI INSPIRED, NOT DECORATIVE)

Visual direction
• Use vertical framing and containment
• Increase card density slightly for grounded feel
• Maintain rounded geometry but with weight
• Reduce excessive empty space
• Keep palette but deepen contrast subtly

Tasks
• Normalize card styles across all modules
• Ensure consistent spacing rhythm
• Make each module feel like a “room” not a step
• Avoid overly playful animations or gimmicks

The app should feel:
• Calm
• Scholarly
• Grounded
• Intentional

Not:
• Trendy
• Minimalist to the point of emptiness
• Decorative

---

PART 3. SCROLL EXPERIENCE

• Remove all visible scroll indicators
• Ensure smooth internal scrolling
• Avoid long single cards
• Break content into readable chunks

The user should never feel like they are reading a wall of text.

---

PART 4. INSIGHTS SEED DATA (DEMO MODE)

When demo mode is enabled:
• Seed realistic reflections across multiple states
• Generate meaningful pattern summaries
• Populate recurring assumptions
• Populate recent reflections list

Insights must feel alive on first open.

Tone
• Observational
• Neutral
• No advice
• No encouragement language

---

PART 5. SINGLE AI COMPANION (VERY IMPORTANT)

Implement ONE AI companion only.

This agent must:
• Be grounded in CBT principles
• Use NLP techniques like defusion and reframing
• Be deeply trained on Islamic worldview
• Reference Quran and Hadith only when relevant
• Never preach
• Never moralize
• Never overwhelm with quotes

This agent acts as:
• A cognitive companion
• A clarity guide
• A disciplined mirror

Not:
• A motivational coach
• A preacher
• A therapist replacement
• Multiple personas

All responses across Reflection, Dua, Insights must come from this single intelligence.

---

PART 6. QUALITY CHECK

Verify:
• Headers are fully visible everywhere
• UI feels intentional and calm
• Modules feel independent
• Islamic tone feels lived, not quoted
• No regressions
• Build passes

Deliverables
• Refactored layout system
• Improved UI consistency
• Seeded Insights data
• Single unified AI response engine
• No clipped headers

PROMPT END
