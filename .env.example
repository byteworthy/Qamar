# =============================================================================
# NOOR CBT - Environment Configuration Template
# =============================================================================
# Copy this file to .env and replace CHANGEME values with real configuration.
# For validation testing, VALIDATION_MODE=true allows running without real keys.
# =============================================================================

# -----------------------------------------------------------------------------
# VALIDATION MODE
# -----------------------------------------------------------------------------
# Set to "true" for tester validation without external services
# Set to "false" for production use with real API keys
VALIDATION_MODE=true

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
PORT=5000
NODE_ENV=development

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# -----------------------------------------------------------------------------
# Required for data persistence. In validation mode, missing DB will use in-memory.
DATABASE_URL=postgresql://user:CHANGEME@localhost:5432/noor_cbt

# -----------------------------------------------------------------------------
# AI INTEGRATION (Anthropic Claude)
# -----------------------------------------------------------------------------
# Required for AI-powered reflection analysis.
# In VALIDATION_MODE=true with CHANGEME key, routes return placeholder responses.
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-CHANGEME

# AI Model Configuration (optional - defaults shown)
AI_MODEL=claude-sonnet-4-20250514
AI_MAX_TOKENS=1024
AI_TIMEOUT_MS=30000
AI_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# BILLING (Stripe - Server-side, not used for mobile IAP)
# -----------------------------------------------------------------------------
# Mobile billing uses Apple/Google IAP. These are for web/admin only.
# In VALIDATION_MODE=true, billing routes are disabled.
STRIPE_SECRET_KEY=sk_test_CHANGEME
STRIPE_WEBHOOK_SECRET=whsec_CHANGEME

# -----------------------------------------------------------------------------
# REPLIT (Only needed if deploying to Replit)
# -----------------------------------------------------------------------------
# REPLIT_DOMAINS=your-app.repl.co
# REPLIT_DEV_DOMAIN=your-app.repl.co

# -----------------------------------------------------------------------------
# DATA ENCRYPTION
# -----------------------------------------------------------------------------
# 32-character hex string for encrypting sensitive user data
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
ENCRYPTION_KEY=CHANGEME_32_CHAR_HEX_STRING_HERE
